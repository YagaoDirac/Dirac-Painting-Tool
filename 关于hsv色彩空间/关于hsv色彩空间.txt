关于hsv色彩空间

作者：YagaoDirac

写在开头：
Hsv色彩空间是一个非常好的设计。但是传统的hsv色彩空间的设计受到了非常多的计算机底层结构的影响，包括一些纯粹为了节约芯片而设计的工业标准。这些设计非常不符合人眼的习惯。所以在使用hsv的时候，依然需要一些转换，包括需要配合rgb色彩空间进行使用。但是无法否认的是，hsv提供的色相环和其他2个维度相分离的结构，给绘画过程带来了非常巨大的便利。
于是，在现有条件下，对hsv系统下的取色器进行研究就会比较有价值。

正文：
不想写太多。反正也没谁看。
我在网上找到的公式。我不知道是哪个工业标准里面出来的公式。反正就结果来看好像是对的。
饱和度的那个图的来源是，我先分通道把颜色转换成了线性颜色（网上的公式，基本可信），然后根据这个线性的分通道的亮度，直接相加，得到总和亮度（也是网上查到的，应该是可以直接相加的，基本可信）。然后拿这个总和亮度，乘以各个分量的亮度（就是0.22，0.7，0.07那一组。这个做法可能有问题），得到相同亮度下的灰阶颜色的信息（这个地方可能已经出现轻微的偏差了），然后把各个分量的线性亮度的数据拿来和这个相减（是否可以直接相减，或者应该有什么别的方式，我就不知道了。反正近似嘛），取绝对值，最后把这个绝对值直接相加。
但是由于这个结果最终无论如何不会大于一个约为0.4的值，所以我将他们统一的除以了这个值，来得到一个0到1的范围的数字。这个0.4，是在（255，0，255）或者（0，255，0）的时候出现的。在代码里面是叫做，最大饱和度（max saturation）。之后再把0到1映射到0到255，写回去，保存，完事。
虽然是一个不太精确的近似结果，但是还是可以得到一些粗略的结论。

1，在高亮度低饱和度的区域，增加hsv的饱和度是可以增加视觉饱和度的，但是在其他区域，则要考虑通过增加hsv的亮度来增加饱和度。
2，紫色（255，0，255）和绿色（0，255，0）的视觉饱和度最高，而黄色，蓝色几乎只有他们一半不到。
3，因为绿色通道的亮度非常大，蓝色非常小，有一个状况就是，当颜色落在（小，中，大），也就是从青色到蓝色之间的时候，其实真正控制亮度的还是绿色通道，这种时候rgb模式就有了优势。这一段对应饱和度里面有一个转折的那个图。